(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ffe92fac"],{3931:function(t,e,a){t.exports=a.p+"img/login_bg.b63fc266.jpg"},"39a7":function(t,e,a){},"5bca":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{display:"flex",marginTop:"10px"}},[a("div",{staticStyle:{width:"75%"},style:{height:t.tabHeight+"px"}},[a("Card",{staticStyle:{width:"100%",height:"100%","margin-left":"10px","overflow-y":"auto"}},[a("div",{staticStyle:{display:"flex","flex-wrap":"wrap",marginTop:"4px"},attrs:{id:"videoListCard"}},t._l(t.currentVideoData,(function(e,i){return a("div",{key:i,style:{width:"198px",height:"111px",display:"flex","justify-content":"center","align-items":"center","margin-left":"5px","margin-right":"5px","margin-bottom":"10px",background:"url("+e.imageUrl+")",backgroundSize:"cover",position:"relative"},attrs:{name:"videoListItem"},on:{dblclick:function(a){return t.livePlay(e)}}},[a("img",{staticStyle:{width:"40px"},attrs:{src:t.playerIco,alt:""}}),a("P",{staticStyle:{width:"100%",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",color:"#fff",position:"absolute",left:"2px",bottom:"0",fontSize:"13px"}},[t._v(t._s(e.title))])],1)})),0),a("Page",{directives:[{name:"show",rawName:"v-show",value:t.showPage,expression:"showPage"}],staticStyle:{"text-align":"right",margin:"20px 0"},attrs:{total:t.allVideoData.length,"page-size":t.perPageCount,"show-total":"","show-elevator":""},on:{"on-change":t.pageChange}})],1)],1),a("div",{staticStyle:{width:"21.5%","margin-left":"20px"},style:{height:t.tabHeight+"px"}},[a("Card",{staticStyle:{height:"100%","overflow-y":"auto"}},[a("div",{staticStyle:{height:"630px"},attrs:{id:"videoTree"}},[a("Tree",{attrs:{data:t.data1,render:t.renderContent}})],1)])],1)]),a("Modal",{attrs:{title:" ","mask-closable":!1},on:{"on-cancel":t.videoCancel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("div",[a("suma-player",{ref:"videoPlayer",attrs:{id:"video_Parent"}})],1),a("p",{attrs:{slot:"footer"},slot:"footer"})]),a("player",{ref:"player",on:{isBaseCreate:t.videoCreateSuccess}})],1)},s=[],n=a("b85c"),r=a("f9cb"),l=a("3931"),o=a.n(l),h=a("d4b6"),d=a.n(h),p=a("4ec3"),g=a("eb83"),u={components:{"suma-player":r["a"],player:g["default"]},data:function(){return{playerIco:d.a,modal1:!1,videoImage:o.a,data1:[],allVideoData:[],transfer:!0,playUrl:"",player:{playerIndex:"",groupIndex:""},currentVideoData:[],perPageCount:0,columnCount:0,itemWidth:198,itemHeight:111,showPage:!1,widthOffset:10,heightOffset:26,pageHeight:80,widthGap:10,heightGap:10,maxColumn:4,base:1,tabHeight:0,timer:null}},created:function(){var t=this;this.selectUserProgram(),this.$bus.$on("isBaseCreate",(function(e){t.videoCreateSuccess(e)}))},beforeDestroy:function(){this.$bus.$off("isBaseCreate")},mounted:function(){var t=this;this.getDom(),window.onresize=function(){var e=document.getElementById("video_Parent"),a=e.offsetWidth,i=e.offsetHeight,s=e.getBoundingClientRect().left,n=e.getBoundingClientRect().top,r=1,l=1,o=t.player.groupIndex,h={groupIndex:o,x:s,y:n,width:a,height:i,rows:r,columns:l};t.$refs.player.adjustQmlPlayer(h),t.getDom()}},methods:{getDom:function(){var t=window.innerWidth,e=window.innerHeight;this.base=(t-160)/864,this.tabHeight=e-120,this.debounce()},debounce:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.showPage?t.updateItemSizeWithColumn():t.updateItemCountPerPage()}),100)},updateItemCountPerPage:function(){var t=document.getElementById("videoListCard"),e=t.offsetWidth-this.widthOffset,a=this.tabHeight-this.heightOffset,i=this.allVideoData.length;if(i){var s=0;this.toast("page:"+t+"-"+e+"-"+a);var n=parseInt(e/this.maxColumn)-this.widthGap,r=parseInt(9*n/16);if(s=parseInt(a/(r+this.heightGap))*this.maxColumn,this.columnCount=this.maxColumn,i>s)this.perPageCount=parseInt((a-this.pageHeight)/(r+this.heightGap))*this.columnCount,this.showPage=!0;else{this.showPage=!1,this.perPageCount=i;for(var l=n,o=r,h=this.maxColumn-1;h>0;h--){if(l=parseInt(e/h)-this.widthGap,o=parseInt(9*l/16),s=parseInt(a/(o+this.heightGap))*h,this.perPageCount>s){n=parseInt(e/(h+1))-this.widthGap,r=parseInt(9*n/16),this.columnCount=h+1;break}if(1==h){n=parseInt(e)-this.widthGap,r=parseInt(9*n/16),this.columnCount=1;break}}}this.toast("result:"+this.perPageCount+"-"+n+"-"+r),this.itemWidth=n,this.itemHeight=r,this.updateCurrentVideoData(1)}},updateCurrentVideoData:function(t){this.toast("no:"+t+"-"+this.perPageCount),this.currentVideoData=[];for(var e=this.perPageCount*(t-1),a=0;a<this.perPageCount;a++){if(!(a+e<this.allVideoData.length))break;this.currentVideoData.push(this.allVideoData[a+e])}this.updateItemSize()},updateItemSizeWithColumn:function(){if(this.toast("column:"+this.columnCount),0!=this.columnCount){var t=document.getElementById("videoListCard"),e=t.offsetWidth-this.widthOffset;this.toast("page:-"+e),this.itemWidth=parseInt(e/this.columnCount)-this.widthGap,this.itemHeight=parseInt(9*this.itemWidth/16),this.updateItemSize()}},updateItemSize:function(){var t=this;this.$nextTick((function(){var e=document.getElementsByName("videoListItem");t.toast("find:"+e.length);for(var a=0;a<e.length;a++){var i=e[a];i&&i.offsetWidth&&(i.style.width=t.itemWidth+"px",i.style.height=t.itemHeight+"px")}}))},pageChange:function(t){this.updateCurrentVideoData(t)},toast:function(t){},videoCancel:function(){this.$sumaQtPlayer?(this.$refs.player.destroyQmlPlayer([{groupIndex:-2,playerIndex:-2}]),this.modal1=!1):(this.$refs.videoPlayer.pause(),this.modal1=!1)},livePlay:function(t){if(console.log("item",t),"3"==t.fileCategory?"ts"===t.fileFormat.toLowerCase()?this.playUrl=t.playUrl:this.playUrl=t.downUrl:this.playUrl=t.playUrl,this.$sumaQtPlayer){var e={elementClassName:"",elementId:"",mode:"base"};this.modal1=!0,this.$refs.player.replaceVideoWithPlayer1(e)}else this.modal1=!0,this.$refs.videoPlayer.playVodWithHlsUrl(this.playUrl)},renderContent:function(t,e){var a=this,i=e.node,s=e.data;return t("div",{style:"width:100%;display:flex;justify-content:space-between"},[t("Tooltip",{attrs:{placement:"right",transfer:this.transfer}},[t("p",{style:{width:100*this.base+"px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","font-size":"16px",color:"rgba(255,255,255,1)"},on:{dblclick:function(t){return a.dbclick(i,t)}}},[s.title]),t("div",{slot:"content"},[t("p",{style:"white-space: normal"},[s.title])])])])},dbclick:function(t){if(console.log(t),t.node.progarmId)if("3"==t.node.fileCategory?"ts"===t.node.fileFormat.toLowerCase()?this.playUrl=t.node.playUrl:this.playUrl=t.node.downUrl:this.playUrl=t.node.playUrl,this.$sumaQtPlayer){var e={elementClassName:"",elementId:"",mode:"base"};this.modal1=!0,this.$refs.player.replaceVideoWithPlayer1(e)}else this.modal1=!0,this.$refs.videoPlayer.playVodWithHlsUrl(this.playUrl)},videoCreateSuccess:function(t){this.player.playerIndex=t.playerIndex,this.player.groupIndex=t.groupIndex;var e=[{x:200,y:100,playerIndex:t.playerIndex,groupIndex:t.groupIndex,playerInfo:{channelId:"",channelName:"",channelUrl:this.playUrl}}];this.$refs.player.prepareQmlPlayer2(e)},selectUserProgram:function(){var t=this,e={user_id:JSON.parse(localStorage.getItem("loginRes")).user.userId};p["a"].selectUserProgram(e).then((function(e){if(console.log("还是很",e),t.allVideoData=[],t.data1=[],e.result){var a,i=JSON.parse(JSON.stringify(e.result)),s=Object(n["a"])(i);try{for(s.s();!(a=s.n()).done;){var r=a.value,l={};l.title="null"!=r.channel_name?r.channel_name:"未分类",l.expand=!0,l.channelId=r.channel_id,l.children=[];var o,h=Object(n["a"])(r.programs);try{for(h.s();!(o=h.n()).done;){var d=o.value,p={};p.title=d.program_name,p.progarmId=d.progarm_id,p.imageUrl=d.imageUrl,p.playUrl=d.playUrl,p.downUrl=d.downUrl,p.fileCategory=d.fileCategory,p.fileFormat=d.fileFormat,p.expand=!0,l.children.push(p),t.allVideoData.push(p)}}catch(g){h.e(g)}finally{h.f()}t.data1.push(l)}}catch(g){s.e(g)}finally{s.f()}t.updateItemCountPerPage()}}))}}},c=u,m=(a("6e45"),a("2877")),f=Object(m["a"])(c,i,s,!1,null,null,null);e["default"]=f.exports},"6e45":function(t,e,a){"use strict";var i=a("39a7"),s=a.n(i);s.a},d4b6:function(t,e){t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=chunk-ffe92fac.5be93f42.js.map