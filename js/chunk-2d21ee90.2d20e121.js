(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ee90"],{d828:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticStyle:{margin:"10px"}},[a("Row",[a("Col",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("div",[a("span",{staticStyle:{"margin-left":"18px","font-size":"14px","font-family":"Microsoft YaHei","font-weight":"400",color:"rgba(255,255,255,1)"}},[t._v("业务名称")]),a("Input",{style:{width:180*t.base+"px",height:"32px","margin-left":"9px","border-radius":"2px"},attrs:{placeholder:"请输入"},model:{value:t.businessName,callback:function(e){t.businessName=e},expression:"businessName"}})],1),a("div",{staticStyle:{"margin-left":"50px"}},[a("span",{staticStyle:{"font-size":"14px","font-family":"Microsoft YaHei","font-weight":"400",color:"rgba(255,255,255,1)"}},[t._v("日期")]),a("DatePicker",{style:{width:200*t.base+"px","margin-left":"9px"},attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"请选择"},on:{"on-change":t.importDateChange},model:{value:t.dateData,callback:function(e){t.dateData=e},expression:"dateData"}})],1),a("div",[a("span",{staticStyle:{margin:"15px 30px"}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.changePage(1)}}},[t._v("查询")])],1)])])],1)],1),a("Card",{staticStyle:{margin:"10px"}},[a("div",[a("Button",{attrs:{type:"primary",disabled:t.triggerButtonStatus},on:{click:function(e){return t.triggerDetection()}}},[t._v("手动触发检测")])],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("Table",{attrs:{columns:t.columns1,data:t.data1,height:t.tabHeight}}),a("Page",{staticStyle:{"text-align":"right",margin:"20px 0"},attrs:{total:t.totalCount,current:t.pageNo,"show-sizer":"","show-total":"","show-elevator":"",placement:"top"},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)])],1)},n=[],s=(a("4160"),a("159b"),a("4ec3")),o={data:function(){return{columns1:[{title:"业务名称",key:"name"},{title:"描述",key:"moduleDescription"},{title:"日志记录状态",key:"status"},{title:"日期",key:"createAt"}],data1:[{businessName:"通道1输入流状态",description:"通道1输入流状态",LogStatus:"正常",date:"2020-06-21 17:21:21"},{businessName:"通道2输入流状态",description:"通道2输入流状态",LogStatus:"正常",date:"2020-06-21 17:21:21"},{businessName:"通道3输入流状态",description:"通道3输入流状态",LogStatus:"异常",date:"2020-06-21 17:21:21"}],dateData:"",loadingStatus:!1,logType:1,businessName:"",triggerButtonStatus:!1,current:1,totalCount:0,pageNo:1,pageSize:10,base:1,tabHeight:0}},created:function(){this.queryBusinessLog(),this.init()},mounted:function(){this.autoFix()},methods:{autoFix:function(){var t=this;this.getDom(),window.onresize=function(){t.getDom()}},getDom:function(){var t=window.innerWidth,e=window.innerHeight;this.base=(t-160)/864,this.tabHeight=e-350},init:function(){this.columns1.forEach((function(t){"status"===t.key&&(t.render=function(t,e){return t("div",[t("span",{props:{type:"text"},style:{color:0===e.row.status?"rgba(2,232,255,1)":"rgba(245,108,108,1)"}},0===e.row.status?"正常":"异常")])})}))},importDateChange:function(t){this.dateData=t},queryBusinessLog:function(){var t=this,e={type:this.logType,date:this.dateData,name:this.businessName,pageNo:this.pageNo,pageSize:this.pageSize};this.data1=[],s["a"].seacherDrbsSystemLogList(e).then((function(e){t.totalCount=e.count,e=e.result,t.loadingStatus=!1,t.data1=e,0===t.data1.length&&t.pageNo>1&&(t.pageNo--,t.queryBusinessLog())}),(function(e){t.loadingStatus=!1}))},triggerDetection:function(){var t=this;this.triggerButtonStatus=!0,setTimeout((function(){t.triggerButtonStatus=!1}),6e4);var e={};s["a"].businessLog(e).then((function(e){t.$Message.success("正在检测，请3分钟后查看。"),t.queryBusinessLog()}))},changePage:function(t){this.pageNo=t,this.queryBusinessLog()},changePageSize:function(t){this.pageSize=t,1===this.pageNo&&this.queryBusinessLog()}}},r=o,u=a("2877"),c=Object(u["a"])(r,i,n,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d21ee90.2d20e121.js.map