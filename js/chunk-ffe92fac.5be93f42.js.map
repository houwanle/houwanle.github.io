{"version":3,"sources":["webpack:///./src/images/login_bg.jpg","webpack:///./src/views/recode-manage/components/video.vue?9e84","webpack:///src/views/recode-manage/components/video.vue","webpack:///./src/views/recode-manage/components/video.vue?ac78","webpack:///./src/views/recode-manage/components/video.vue?7ef9","webpack:///./src/views/recode-manage/components/video.vue?fb3c","webpack:///./src/images/playerIco.png"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticStyle","style","height","tabHeight","attrs","_l","item","index","key","width","display","background","imageUrl","backgroundSize","position","on","$event","livePlay","playerIco","_v","_s","title","directives","name","rawName","value","expression","allVideoData","length","perPageCount","pageChange","data1","renderContent","videoCancel","model","callback","$$v","modal1","ref","slot","videoCreateSuccess","staticRenderFns","component"],"mappings":"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","file":"js/chunk-ffe92fac.5be93f42.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/login_bg.b63fc266.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"display\":\"flex\",\"marginTop\":\"10px\"}},[_c('div',{staticStyle:{\"width\":\"75%\"},style:({ height:_vm.tabHeight + 'px' })},[_c('Card',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"margin-left\":\"10px\",\"overflow-y\":\"auto\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\",\"marginTop\":\"4px\"},attrs:{\"id\":\"videoListCard\"}},_vm._l((_vm.currentVideoData),function(item,index){return _c('div',{key:index,style:({width:'198px',height:'111px',display:'flex','justify-content':'center','align-items':'center','margin-left':'5px','margin-right':'5px','margin-bottom':'10px',background:'url('+item.imageUrl+')',backgroundSize:'cover', position: 'relative'}),attrs:{\"name\":\"videoListItem\"},on:{\"dblclick\":function($event){return _vm.livePlay(item)}}},[_c('img',{staticStyle:{\"width\":\"40px\"},attrs:{\"src\":_vm.playerIco,\"alt\":\"\"}}),_c('P',{staticStyle:{\"width\":\"100%\",\"overflow\":\"hidden\",\"white-space\":\"nowrap\",\"text-overflow\":\"ellipsis\",\"color\":\"#fff\",\"position\":\"absolute\",\"left\":\"2px\",\"bottom\":\"0\",\"fontSize\":\"13px\"}},[_vm._v(_vm._s(item.title))])],1)}),0),_c('Page',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPage),expression:\"showPage\"}],staticStyle:{\"text-align\":\"right\",\"margin\":\"20px 0\"},attrs:{\"total\":_vm.allVideoData.length,\"page-size\":_vm.perPageCount,\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":_vm.pageChange}})],1)],1),_c('div',{staticStyle:{\"width\":\"21.5%\",\"margin-left\":\"20px\"},style:({ height:_vm.tabHeight + 'px' })},[_c('Card',{staticStyle:{\"height\":\"100%\",\"overflow-y\":\"auto\"}},[_c('div',{staticStyle:{\"height\":\"630px\"},attrs:{\"id\":\"videoTree\"}},[_c('Tree',{attrs:{\"data\":_vm.data1,\"render\":_vm.renderContent}})],1)])],1)]),_c('Modal',{attrs:{\"title\":\" \",\"mask-closable\":false},on:{\"on-cancel\":_vm.videoCancel},model:{value:(_vm.modal1),callback:function ($$v) {_vm.modal1=$$v},expression:\"modal1\"}},[_c('div',[_c('suma-player',{ref:\"videoPlayer\",attrs:{\"id\":\"video_Parent\"}})],1),_c('p',{attrs:{\"slot\":\"footer\"},slot:\"footer\"})]),_c('player',{ref:\"player\",on:{\"isBaseCreate\":_vm.videoCreateSuccess}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div style=\"display:flex;marginTop:10px\">\r\n            <div style=\"width:75%;\" :style=\"{ height:tabHeight + 'px' }\">\r\n                <Card style=\"width:100%;height:100%;margin-left:10px;overflow-y:auto\">\r\n                    <div id=\"videoListCard\" style=\"display:flex;flex-wrap:wrap;marginTop:4px\">\r\n                        <div name=\"videoListItem\" :style=\"{width:'198px',height:'111px',display:'flex','justify-content':'center','align-items':'center','margin-left':'5px','margin-right':'5px','margin-bottom':'10px',background:'url('+item.imageUrl+')',backgroundSize:'cover', position: 'relative'}\" @dblclick=\"livePlay(item)\" v-for=\"(item,index) in currentVideoData\" :key=\"index\" >\r\n                            <img :src=\"playerIco\" alt=\"\" style=\"width:40px\">\r\n                            <P style=\"width:100%;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;color:#fff;position: absolute;left:2px;bottom:0;fontSize:13px\">{{item.title}}</P>\r\n                        </div>\r\n                    </div>\r\n                    <Page :total=\"allVideoData.length\" :page-size=\"perPageCount\" v-show=\"showPage\" show-total show-elevator style=\"text-align:right;margin:20px 0\" @on-change=\"pageChange\"/>\r\n                </Card>\r\n            </div>\r\n            <!-- <div style=\"width:160px;height:650px;margin-left:20px\"> -->\r\n            <div style=\"width:21.5%;margin-left:20px\" :style=\"{ height:tabHeight + 'px' }\">\r\n                <Card style=\"height:100%;overflow-y:auto\">\r\n                    <div style=\"height:630px;\" id=\"videoTree\">\r\n                        <Tree :data=\"data1\" :render=\"renderContent\"></Tree>\r\n                    </div>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n           <Modal\r\n              title=\" \"\r\n              @on-cancel=\"videoCancel\"\r\n              :mask-closable=\"false\"\r\n              v-model=\"modal1\"\r\n            > \r\n            <div>\r\n                <suma-player ref=\"videoPlayer\" id=\"video_Parent\"></suma-player>\r\n            </div>\r\n               \r\n            <p slot=\"footer\"></p>\r\n            </Modal>\r\n         <player ref=\"player\" @isBaseCreate=\"videoCreateSuccess\"/>  \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport sumaPlayer from \"../../../components/SumaPlayer.vue\";\r\nimport videoImage from \"../../../images/login_bg.jpg\";\r\nimport playerIco from '@/images/playerIco.png'\r\nimport api from '@/api/api'\r\n import player from './player.vue'\r\nexport default {\r\n    components:{\r\n        \"suma-player\":sumaPlayer,\r\n        player\r\n    },\r\n    data () {\r\n        return {\r\n            playerIco,\r\n            modal1:false,\r\n            videoImage: videoImage, // 播放中心： 直播、视频 图片\r\n            data1: [],\r\n            allVideoData:[],\r\n            transfer:true,\r\n            playUrl:'',\r\n            player:{\r\n              playerIndex:'',\r\n              groupIndex:''\r\n            },\r\n\r\n            currentVideoData:[], // 当前展示的数据\r\n            perPageCount:0, // 单页展示的数据数量\r\n            columnCount:0, // 数据展示的列数\r\n            itemWidth:198, // 单个海报的宽度\r\n            itemHeight:111, // 单个海报的高度\r\n            showPage:false, // 是否显示分页\r\n            widthOffset:10, // 读取列表总宽度时减去的偏移量\r\n            heightOffset:26, // 读取列表总高度时减去的偏移量\r\n            pageHeight:80, // 预留给分页控件的高度\r\n            widthGap:10, // 海报横向间距\r\n            heightGap:10, // 海报纵向间距\r\n            maxColumn:4, // 最大列数\r\n\r\n            base:1,   // 分辨率自适应 计算后的倍数\r\n            tabHeight:0,  // 分辨率自适应调整：表格的高度\r\n            timer:null,\r\n        }\r\n    },\r\n    created(){\r\n     this.selectUserProgram()\r\n     this.$bus.$on('isBaseCreate',(obj)=>{\r\n        this.videoCreateSuccess(obj)\r\n      })\r\n    },\r\n    beforeDestroy(){\r\n      this.$bus.$off('isBaseCreate')\r\n    },\r\n    mounted(){\r\n      let vm = this\r\n      this.getDom();\r\n      window.onresize=function(){\r\n        let odiv = document.getElementById('video_Parent')\r\n        let allWidth = odiv.offsetWidth\r\n        let allHeight = odiv.offsetHeight\r\n        let x = odiv.getBoundingClientRect().left\r\n        let y = odiv.getBoundingClientRect().top\r\n        let rows = 1\r\n        let columns = 1\r\n        let groupIndex = vm.player.groupIndex\r\n        let param = {\r\n            groupIndex,x,y,width:allWidth,height:allHeight,rows,columns\r\n        }\r\n        vm.$refs.player.adjustQmlPlayer(param)\r\n        vm.getDom();\r\n      }\r\n    },\r\n    methods:{\r\n      /** 获取窗口的宽和高 */\r\n      getDom(){\r\n        let width = window.innerWidth;\r\n        let height = window.innerHeight;\r\n        // this.toast(\"window:\"+window.innerWidth+\"-\"+window.innerHeight);\r\n        this.base = (width-160)/(1024-160);\r\n        this.tabHeight = height - 120;   // 表格页面无 “过滤搜索条件”card,表格上方无Button，则采用该方式计算。\r\n        this.debounce();\r\n        \r\n      },\r\n      debounce(){ // 防抖，主要用来处理全屏操作时多次回调的问题\r\n        clearTimeout(this.timer);\r\n        this.timer=setTimeout(() => {\r\n          if(this.showPage){\r\n            this.updateItemSizeWithColumn(); // 只更新单个海报的大小\r\n          }else{\r\n            this.updateItemCountPerPage(); // 每次窗口变化都计算一次布局\r\n          }\r\n        }, 100)\r\n      },\r\n      /** 更新列表布局 */\r\n      updateItemCountPerPage(){\r\n        let parent = document.getElementById('videoListCard');\r\n        let pWidth = parent.offsetWidth-this.widthOffset; // 列表总宽度\r\n        let pHeight = this.tabHeight-this.heightOffset; // 列表总高度\r\n        let total = this.allVideoData.length; // 内容总数\r\n        if(!total) return;\r\n        let maxCount = 0; // 单页最大数量\r\n        this.toast(\"page:\"+parent+\"-\"+pWidth+\"-\"+pHeight);\r\n        let width = parseInt(pWidth/this.maxColumn)-this.widthGap; // 单海报宽度\r\n        let height = parseInt(width*9/16); // 单海报高度\r\n        maxCount = parseInt(pHeight/(height+this.heightGap))*this.maxColumn;\r\n        this.columnCount=this.maxColumn;\r\n        // this.toast(\"item4:\"+maxCount+\"-\"+width+\"-\"+height);\r\n        if(total>maxCount){ // 需要分页\r\n          this.perPageCount=parseInt((pHeight-this.pageHeight)/(height+this.heightGap))*this.columnCount; // 分页时需要留出分页控件的高度\r\n          this.showPage=true;\r\n        }else{ // 不需要分页，计算单页布局\r\n          this.showPage=false;\r\n          this.perPageCount=total;\r\n          let tempWidth = width;\r\n          let tempHeight = height;\r\n          for(let i=this.maxColumn-1; i>0; i--){ // 依次计算减少1列后的情况，放不下就停止计算\r\n            tempWidth = parseInt(pWidth/i)-this.widthGap; // 单海报宽度\r\n            tempHeight = parseInt(tempWidth*9/16); // 单海报高度\r\n            maxCount = parseInt(pHeight/(tempHeight+this.heightGap))*i;\r\n            // this.toast(i+\"item:\"+maxCount+\"-\"+tempWidth+\"-\"+tempHeight);\r\n            if(this.perPageCount>maxCount){ // 单页显示不下，记录计算结果\r\n              width = parseInt(pWidth/(i+1))-this.widthGap;\r\n              height = parseInt(width*9/16);\r\n              this.columnCount = i+1;\r\n              break;\r\n            }else if(i==1){ // 显示一列也不会超出屏幕\r\n              width = parseInt(pWidth)-this.widthGap;\r\n              height = parseInt(width*9/16);\r\n              this.columnCount = 1;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        this.toast(\"result:\"+this.perPageCount+\"-\"+width+\"-\"+height);\r\n        this.itemWidth = width;\r\n        this.itemHeight = height;\r\n\r\n        this.updateCurrentVideoData(1);\r\n      },\r\n      /** 处理数据以便分页展示 */\r\n      updateCurrentVideoData(pageNo){\r\n        this.toast(\"no:\"+pageNo+\"-\"+this.perPageCount);\r\n        this.currentVideoData=[];\r\n        let start=this.perPageCount*(pageNo-1); // 起始索引\r\n        for(let i=0; i<this.perPageCount; i++){\r\n          if(i+start<this.allVideoData.length){\r\n            this.currentVideoData.push(this.allVideoData[i+start]);\r\n          }else{\r\n            break;\r\n          }\r\n        }\r\n        this.updateItemSize();\r\n      },\r\n      /** 根据列数计算海报尺寸，不更新布局 */\r\n      updateItemSizeWithColumn(){\r\n        this.toast(\"column:\"+this.columnCount);\r\n        if(this.columnCount==0) return;\r\n        let parent = document.getElementById('videoListCard');\r\n        let pWidth = parent.offsetWidth-this.widthOffset; // 列表总宽度\r\n        this.toast(\"page:\"+\"-\"+pWidth);\r\n        this.itemWidth = parseInt(pWidth/this.columnCount)-this.widthGap;\r\n        this.itemHeight = parseInt(this.itemWidth*9/16);\r\n        this.updateItemSize();\r\n      },\r\n      /** 更新海报大小 */\r\n      updateItemSize(){\r\n        this.$nextTick(()=>{\r\n          var items = document.getElementsByName('videoListItem');\r\n          this.toast(\"find:\"+items.length)\r\n          for (let i=0; i<items.length; i++) {\r\n            let item = items[i];\r\n              if(item&&item.offsetWidth){\r\n              // this.toast(item+\"-\"+item.offsetWidth+\"-\"+item.offsetHeight);\r\n              item.style.width=this.itemWidth+\"px\";\r\n              item.style.height=this.itemHeight+\"px\";\r\n              // this.toast(item+\"-\"+item.style.width+\"-\"+item.style.height);\r\n            }\r\n          }\r\n        });\r\n      },\r\n      /** 分页 */\r\n      pageChange(page){\r\n        this.updateCurrentVideoData(page)\r\n      },\r\n      /** 弹出调试信息（使用debug模式无法正确获取窗口高度） */\r\n      toast(message){\r\n        // this.$Message.info(message);\r\n      },\r\n\r\n        videoCancel(){\r\n        if(this.$sumaQtPlayer){\r\n           this.$refs.player.destroyQmlPlayer([{groupIndex:-2,playerIndex:-2}])\r\n           this.modal1 = false\r\n         }else{\r\n           this.$refs.videoPlayer.pause()\r\n           this.modal1= false\r\n         }\r\n        },\r\n        // 视频 双击图片后播放\r\n        livePlay(item){\r\n            console.log('item',item)\r\n            if(item.fileCategory=='3'){\r\n              if(item.fileFormat.toLowerCase()==='ts'){\r\n                this.playUrl = item.playUrl\r\n              }else{\r\n                this.playUrl = item.downUrl\r\n              }\r\n            }else{\r\n               this.playUrl = item.playUrl\r\n            }\r\n            if(this.$sumaQtPlayer){\r\n            //qt播放\r\n            let param = {\r\n                elementClassName:'',\r\n                elementId:'',\r\n                mode:'base'\r\n            }\r\n                this.modal1 = true\r\n                this.$refs.player.replaceVideoWithPlayer1(param)\r\n            }else{\r\n                this.modal1 = true\r\n                this.$refs.videoPlayer.playVodWithHlsUrl(this.playUrl)\r\n            }\r\n        },\r\n\r\n        // 视频 双击右侧列表中通道 观看视频\r\n        renderContent (h, { node, data }) {\r\n           return (\r\n             <div style=\"width:100%;display:flex;justify-content:space-between\">\r\n                <Tooltip placement=\"right\" transfer={this.transfer}>\r\n                <p style={{width:100*this.base+'px',overflow: 'hidden','white-space': 'nowrap','text-overflow': 'ellipsis','font-size':'16px',color:'rgba(255,255,255,1)'}} on-dblclick={(data)=>this.dbclick(node, data)}>{data.title}</p>\r\n                <div slot=\"content\">\r\n                    <p style=\"white-space: normal\">\r\n                        {data.title}\r\n                    </p>\r\n                </div>\r\n                </Tooltip>\r\n            </div>\r\n            )\r\n        },\r\n        dbclick(data){\r\n            console.log(data)\r\n            if(data.node.progarmId){\r\n              if(data.node.fileCategory=='3'){\r\n                /**如果文件是上传类型 */\r\n                if(data.node.fileFormat.toLowerCase()==='ts'){\r\n                   this.playUrl = data.node.playUrl\r\n                }else{\r\n                  this.playUrl = data.node.downUrl\r\n                }\r\n              } else {\r\n                this.playUrl = data.node.playUrl\r\n              }\r\n              \r\n              if(this.$sumaQtPlayer){\r\n                //qt播放\r\n                let param = {\r\n                    elementClassName:'',\r\n                    elementId:'',\r\n                    mode:'base'\r\n                }\r\n                    this.modal1 = true\r\n                    this.$refs.player.replaceVideoWithPlayer1(param)\r\n                }else{\r\n                    this.modal1 = true\r\n                    this.$refs.videoPlayer.playVodWithHlsUrl(this.playUrl)\r\n                }\r\n             }\r\n            \r\n        },\r\n         //创建成功后\r\n        videoCreateSuccess(obj){\r\n            this.player.playerIndex = obj.playerIndex\r\n            this.player.groupIndex = obj.groupIndex\r\n            let param = [{\r\n                \"x\": 200,\r\n                \"y\": 100,\r\n                    playerIndex: obj.playerIndex,   //playerIndex不为-1，则优先使用playerIndex初始化\r\n                    groupIndex:obj.groupIndex,\r\n                    playerInfo: {\r\n                    channelId: \"\",\r\n                    channelName: \"\",\r\n                    channelUrl:this.playUrl,\r\n                }\r\n            }]   \r\n            this.$refs.player.prepareQmlPlayer2(param)   \r\n        },\r\n        selectUserProgram(){\r\n            let param = {\r\n              user_id:JSON.parse(localStorage.getItem('loginRes')).user.userId\r\n            }\r\n            api.selectUserProgram(param).then(res=>{\r\n              console.log('还是很',res)\r\n              this.allVideoData = []\r\n              this.data1 = []\r\n             if(res.result){\r\n                 let result = JSON.parse(JSON.stringify(res.result))\r\n                 for(let item of result ){\r\n                    let obj =  {}\r\n                    obj.title = item.channel_name!=\"null\"?item.channel_name:'未分类'\r\n                    obj.expand = true,\r\n                    obj.channelId = item.channel_id\r\n                    obj.children = []\r\n                    for(let child of item.programs){\r\n                        let childobj = {}\r\n                        childobj.title = child.program_name\r\n                        childobj.progarmId = child.progarm_id\r\n                        childobj.imageUrl= child.imageUrl\r\n                        childobj.playUrl = child.playUrl\r\n                        childobj.downUrl = child.downUrl\r\n                        childobj.fileCategory = child.fileCategory\r\n                        childobj.fileFormat = child.fileFormat\r\n                        childobj.expand = true,\r\n                        obj.children.push(childobj)\r\n                        //获取所有直播列表\r\n                        this.allVideoData.push(childobj)\r\n                    }\r\n                    this.data1.push(obj)\r\n                 }\r\n                 this.updateItemCountPerPage();\r\n             }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n  #videoTree{\r\n    color: rgba(255,255,255,1)\r\n  }\r\n  #videoTree .ivu-icon-ios-arrow-forward{\r\n    color: #fff!important\r\n  } \r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./video.vue?vue&type=template&id=430f4903&\"\nimport script from \"./video.vue?vue&type=script&lang=js&\"\nexport * from \"./video.vue?vue&type=script&lang=js&\"\nimport style0 from \"./video.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video.vue?vue&type=style&index=0&lang=css&\"","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}